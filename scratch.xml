<mxfile host="app.diagrams.net" editor="diagramly" type="device">
  <diagram id="langgraph-modern" name="LangGraph (Nature)">
    <mxGraphModel dx="1800" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1830" pageHeight="620" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Node sizes/positions (horizontal, two-column width target) -->
        <!-- Common node style: clean, rounded, light tint, HTML labels for subtitle -->
        <!-- Colors: primary stroke #111827, fill #F9FAFB, subtitle gray #6B7280, accent dashed edges #D55E00 -->

        <!-- Start -->
        <mxCell id="n_start" value="&lt;b&gt;Start&lt;/b&gt;&lt;br/&gt;&lt;span style=&quot;font-size:12px;color:#6B7280&quot;&gt;input question / state&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F9FAFB;strokeColor=#111827;strokeWidth=2;align=center;verticalAlign=middle;spacing=8;" vertex="1" parent="1">
          <mxGeometry x="80" y="250" width="220" height="84" as="geometry"/>
        </mxCell>

        <!-- Planner -->
        <mxCell id="n_planner" value="&lt;b&gt;Planner&lt;/b&gt;&lt;br/&gt;&lt;span style=&quot;font-size:12px;color:#6B7280&quot;&gt;select tools based on state &amp; question&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=2;align=center;verticalAlign=middle;spacing=8;" vertex="1" parent="1">
          <mxGeometry x="340" y="250" width="260" height="84" as="geometry"/>
        </mxCell>

        <!-- Tool Executor -->
        <mxCell id="n_executor" value="&lt;b&gt;Tool Executor&lt;/b&gt;&lt;br/&gt;&lt;span style=&quot;font-size:12px;color:#6B7280&quot;&gt;call tools / APIs; update state&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=2;align=center;verticalAlign=middle;spacing=8;" vertex="1" parent="1">
          <mxGeometry x="650" y="250" width="260" height="84" as="geometry"/>
        </mxCell>

        <!-- Reasoning Agent -->
        <mxCell id="n_reasoner" value="&lt;b&gt;Reasoning Agent&lt;/b&gt;&lt;br/&gt;&lt;span style=&quot;font-size:12px;color:#6B7280&quot;&gt;synthesize answer from state&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=2;align=center;verticalAlign=middle;spacing=8;" vertex="1" parent="1">
          <mxGeometry x="960" y="250" width="260" height="84" as="geometry"/>
        </mxCell>

        <!-- Verifier -->
        <mxCell id="n_verifier" value="&lt;b&gt;Verifier&lt;/b&gt;&lt;br/&gt;&lt;span style=&quot;font-size:12px;color:#6B7280&quot;&gt;check evidence &amp; completeness&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#111827;strokeWidth=2;align=center;verticalAlign=middle;spacing=8;" vertex="1" parent="1">
          <mxGeometry x="1270" y="250" width="260" height="84" as="geometry"/>
        </mxCell>

        <!-- End -->
        <mxCell id="n_end" value="&lt;b&gt;End&lt;/b&gt;&lt;br/&gt;&lt;span style=&quot;font-size:12px;color:#6B7280&quot;&gt;final answer&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F4F6;strokeColor=#111827;strokeWidth=2;align=center;verticalAlign=middle;spacing=8;" vertex="1" parent="1">
          <mxGeometry x="1580" y="250" width="220" height="84" as="geometry"/>
        </mxCell>

        <!-- Primary (solid) flow: Start → Planner → Executor → Reasoner → Verifier → End -->
        <mxCell id="e_s_pl" edge="1" parent="1" source="n_start" target="n_planner" value="" style="endArrow=block;html=1;strokeColor=#111827;strokeWidth=2;rounded=0;edgeStyle=orthogonalEdgeStyle;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_pl_ex" edge="1" parent="1" source="n_planner" target="n_executor" value="" style="endArrow=block;html=1;strokeColor=#111827;strokeWidth=2;rounded=0;edgeStyle=orthogonalEdgeStyle;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_ex_rs" edge="1" parent="1" source="n_executor" target="n_reasoner" value="" style="endArrow=block;html=1;strokeColor=#111827;strokeWidth=2;rounded=0;edgeStyle=orthogonalEdgeStyle;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_rs_vf" edge="1" parent="1" source="n_reasoner" target="n_verifier" value="" style="endArrow=block;html=1;strokeColor=#111827;strokeWidth=2;rounded=0;edgeStyle=orthogonalEdgeStyle;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_vf_end" edge="1" parent="1" source="n_verifier" target="n_end" value="" style="endArrow=block;html=1;strokeColor=#111827;strokeWidth=2;rounded=0;edgeStyle=orthogonalEdgeStyle;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Feedback loop 1: Executor → Planner (dashed, dark orange), routed above -->
        <mxCell id="e_ex_pl" edge="1" parent="1" source="n_executor" target="n_planner" value="if more tools needed" style="endArrow=block;html=1;dashed=1;dashPattern=6 6;strokeColor=#D55E00;strokeWidth=2;curved=1;labelBackgroundColor=none;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="780" y="180"/>
              <mxPoint x="470" y="180"/>
            </Array>
            <mxPoint x="610" y="160" as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- Feedback loop 2: Verifier → Reasoning Agent (dashed, dark orange), routed below -->
        <mxCell id="e_vf_rs" edge="1" parent="1" source="n_verifier" target="n_reasoner" value="revise / clarify" style="endArrow=block;html=1;dashed=1;dashPattern=6 6;strokeColor=#D55E00;strokeWidth=2;curved=1;labelBackgroundColor=none;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1400" y="360"/>
              <mxPoint x="1090" y="360"/>
            </Array>
            <mxPoint x="1245" y="380" as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- Optional: light title (commented out for clean Nature style)
        <mxCell id="title" value="LangGraph agentic flow" style="text;html=1;spacing=6;align=center;verticalAlign=middle;fontStyle=1;fontSize=16;fontColor=#111827" vertex="1" parent="1">
          <mxGeometry x="80" y="50" width="1720" height="30" as="geometry"/>
        </mxCell>
        -->
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
